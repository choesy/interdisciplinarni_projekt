<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

h1 {
  font-size: 100px;
}

h2 {
  font-size: 80px;
}


body {
  font-family: Arial, Helvetica, sans-serif;
}

/* Float four columns side by side */
.column {
  float: below;
  width: 100%;
  padding: 0 10px;
  text-align: center;
}

/* Remove extra left and right margins, due to padding */


/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  text-align:center;
  clear: both;
}



/* Style the counter cards */
.card {
  box-shadow: 0 15px 15px 0 rgba(0, 0, 0, 0.747);
  padding: 1vh;
  margin:5vh;
  height: 80vh;
  background-color: #adf6ea;
  text-align: center;
}

</style>
</head>
<body>

<div style="width:800px; margin:0 auto;">  
<div class="row">  
  <div class="column">
    <div class="card">
      <h2 id="user1">-</h2>
      <h1 id="consumption1">-</h1>
      <h2>Wh</h2>
    </div>
  </div>
  <div class="column">
    <div class="card">
      <h2 id="user2">-</h2>
      <h1 id="consumption2">-</h1>
      <h2>Wh</h2>
    </div>
  </div>
</div>
</div>

</body>
</html>


<script>

var user1;
var user2;
var consumption1;
var consumption2;

window.addEventListener('load', function () {
  user1 = document.getElementById('user1');
  user2 = document.getElementById('user2');
  consumption1 = document.getElementById('consumption1');
  consumption2 = document.getElementById('consumption2');
  updateData()
var t=setInterval(updateData,11000);
})

function updateData(){
var data= httpGet("data")
var users=[]
var consumption=[]
console.log(data)
for (var key in data) {
    if (data.hasOwnProperty(key)) {
        users.push(key)
        consumption.push(data[key])
    }
}
if (users[0] != undefined){user1.innerHTML=users[0]}
if (users[1] != undefined){user2.innerHTML=users[1]}
if (consumption[0] != undefined){consumption1.innerHTML=consumption[0]}
if (consumption[1] != undefined){consumption2.innerHTML=consumption[1]}
}

function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    console.log(xmlHttp.responseText)
    var ret=JSON.parse(xmlHttp.responseText)
    return ret
}

</script>